<div class="dashboard-container">
  <h1 class="dashboard-title">Dashboard</h1>

  <!-- Statistics Cards -->
  <div class="stats-grid">
    <mat-card class="stat-card total">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>assignment</mat-icon>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats().total }}</div>
          <div class="stat-label">Total Tasks</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card todo">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>schedule</mat-icon>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats().todo }}</div>
          <div class="stat-label">To Do</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card in-progress">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>hourglass_empty</mat-icon>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats().inProgress }}</div>
          <div class="stat-label">In Progress</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card done">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>check_circle</mat-icon>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats().done }}</div>
          <div class="stat-label">Completed</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card overdue">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>warning</mat-icon>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats().overdue }}</div>
          <div class="stat-label">Overdue</div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card completion">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>trending_up</mat-icon>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ completionRate() }}%</div>
          <div class="stat-label">Completion Rate</div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Charts Section -->
  <div class="charts-section">
    <h2 class="section-title">Analytics</h2>

    <div class="charts-grid">
      <!-- Status Distribution Chart -->
      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>Task Status Distribution</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          @if (stats().total > 0) {
            <canvas
              baseChart
              [type]="pieChartType"
              [data]="pieChartData()"
              [options]="pieChartOptions">
            </canvas>
          } @else {
            <div class="empty-state">
              <mat-icon>pie_chart</mat-icon>
              <p>No tasks to display</p>
            </div>
          }
        </mat-card-content>
      </mat-card>

      <!-- Priority Distribution Chart -->
      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>Task Priority Distribution</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          @if (stats().total > 0) {
            <canvas
              baseChart
              [type]="barChartType"
              [data]="barChartData()"
              [options]="barChartOptions">
            </canvas>
          } @else {
            <div class="empty-state">
              <mat-icon>bar_chart</mat-icon>
              <p>No tasks to display</p>
            </div>
          }
        </mat-card-content>
      </mat-card>

      <!-- Completion Trends Chart -->
      <mat-card class="chart-card full-width">
        <mat-card-header>
          <mat-card-title>Task Activity (Last 7 Days)</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          @if (stats().total > 0) {
            <canvas
              baseChart
              [type]="lineChartType"
              [data]="lineChartData()"
              [options]="lineChartOptions">
            </canvas>
          } @else {
            <div class="empty-state">
              <mat-icon>show_chart</mat-icon>
              <p>No tasks to display</p>
            </div>
          }
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
